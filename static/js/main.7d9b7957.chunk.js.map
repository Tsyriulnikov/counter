{"version":3,"sources":["App.module.css","reportWebVitals.ts","Button.tsx","store/counter-reducer.ts","CounterMain.tsx","App.tsx","store/store.ts","index.tsx","Button.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Button","callBackClick","isDisabled","name","className","s","button","disabled","onClick","initState","count","maxValue","startValue","set","error","setCount","type","payload","setMaxValue","setStartValue","setSet","setError","CounterMain","dispatch","useDispatch","useSelector","state","counterReducer","useEffect","startValueStorage","localStorage","getItem","JSON","parse","mainContainerStop","mainContainer","showContainer","red","showValue","buttonContainer","App","maxValueStorage","mainApp","value","onChange","e","currentTarget","isError","setItem","stringify","parseInt","reducers","combineReducers","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7d9b7957.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainApp\":\"App_mainApp__ZYzp4\",\"red\":\"App_red__4r0l6\",\"showValue\":\"App_showValue__3u6S0\",\"mainContainer\":\"App_mainContainer__Td2TM\",\"mainContainerStop\":\"App_mainContainerStop__3iALF\",\"showContainer\":\"App_showContainer__2wHbt\",\"buttonContainer\":\"App_buttonContainer__3R-bT\",\"error\":\"App_error__29jyP\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport s from \"./Button.module.css\"\r\ntype ButtonPropsType = {\r\n    callBackClick:() => void\r\n    isDisabled:boolean\r\n    name:string\r\n}\r\n\r\nconst Button:React.FC<ButtonPropsType>=({callBackClick, isDisabled,name})=>{\r\n    const onClicIncHendler = () => {\r\n        callBackClick()\r\n    }\r\n    return(\r\n        <button className={s.button}\r\n            disabled={isDisabled}\r\n            onClick={onClicIncHendler}>\r\n            {name}\r\n        </button>\r\n\r\n    )\r\n}\r\nexport default Button;","export type CounterType = {\r\n    count: number\r\n    maxValue: string\r\n    startValue: string\r\n    set: boolean\r\n    error: boolean\r\n}\r\n\r\nconst initState = {\r\n    count: 0,\r\n    maxValue: \"0\",\r\n    startValue: \"0\",\r\n    set: true,\r\n    error: false,\r\n}\r\n\r\n\r\nexport const counterReducer = (state: CounterType = initState, action: CounterActionType): CounterType => {\r\n    switch (action.type) {\r\n        case 'SET_COUNT': {\r\n            return {...state, count: action.payload.count}\r\n        }\r\n        case 'SET_MAX_VALUE': {\r\n            return {...state, maxValue: action.payload.maxValue}\r\n        }\r\n        case 'SET_START_VALUE': {\r\n            return {...state, startValue: action.payload.startValue}\r\n        }\r\n        case 'SET_SET': {\r\n            return {...state, set: action.payload.set}\r\n        }\r\n        case 'SET_ERROR': {\r\n            return {...state, error: action.payload.error}\r\n        }\r\n        default:\r\n            return {...state}\r\n    }\r\n}\r\n\r\n\r\n// Action creators\r\n\r\ntype CounterActionType = SetCountActionType | MaxValueActionType | StartValueActionType |\r\n    SetActionType | ErrorActionType\r\n\r\n\r\ntype SetCountActionType = ReturnType<typeof setCount>\r\nexport const setCount = (count: number) => {\r\n    return {\r\n        type: \"SET_COUNT\",\r\n        payload: {\r\n            count,\r\n        },\r\n    } as const\r\n}\r\ntype MaxValueActionType = ReturnType<typeof setMaxValue>\r\nexport const setMaxValue = (maxValue: string) => {\r\n    return {\r\n        type: \"SET_MAX_VALUE\",\r\n        payload: {\r\n            maxValue,\r\n        },\r\n    } as const\r\n}\r\ntype StartValueActionType = ReturnType<typeof setStartValue>\r\nexport const setStartValue = (startValue: string) => {\r\n    return {\r\n        type: \"SET_START_VALUE\",\r\n        payload: {\r\n            startValue,\r\n        },\r\n    } as const\r\n}\r\ntype SetActionType = ReturnType<typeof setSet>\r\nexport const setSet = (set: boolean) => {\r\n    return {\r\n        type: \"SET_SET\",\r\n        payload: {\r\n            set,\r\n        },\r\n    } as const\r\n}\r\ntype ErrorActionType = ReturnType<typeof setError>\r\nexport const setError = (error: boolean) => {\r\n    return {\r\n        type: \"SET_ERROR\",\r\n        payload: {\r\n            error,\r\n        },\r\n    } as const\r\n}\r\n","import React, {useEffect} from \"react\";\r\nimport s from \"./App.module.css\";\r\nimport Button from \"./Button\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {CounterType, setCount} from \"./store/counter-reducer\";\r\nimport {AppStoreType} from \"./store/store\";\r\n\r\nconst CounterMain: React.FC = ()=> {\r\n    const dispatch = useDispatch()\r\n    const count = useSelector<AppStoreType, CounterType>(state => state.counterReducer)\r\n\r\n    const messegeInputValue: string = \"enter value and press SET\"\r\n    const messegeIncorrect: string = \"incorrect value!\"\r\n//Инициализация счётчика после перезагрузки страницы.Берём значение из localStorage\r\n    useEffect(() => {\r\n        let startValueStorage = localStorage.getItem(\"startValue\");\r\n        if (startValueStorage) dispatch(setCount(JSON.parse(startValueStorage)))\r\n    }, [])\r\n// Увеличиваем значение счётчика.\r\n    const incCount = () => {\r\n        if (count.count < +count.maxValue) {\r\n            dispatch(setCount(count.count + 1))\r\n        }\r\n    }\r\n//Сброс счётчика\r\n    const resetCount = () => {\r\n        dispatch(setCount(+count.startValue))\r\n    }\r\n     return (\r\n        <div className={count.count === +count.maxValue ? s.mainContainerStop : s.mainContainer}>\r\n            <div className={s.showContainer}>\r\n\r\n                {!count.set && !count.error ?\r\n                    <div className={count.count === +count.maxValue ? s.red\r\n                        : s.showValue}>{count.count}</div>\r\n\r\n                    : <div>{count.error ?\r\n                        messegeIncorrect :\r\n                        messegeInputValue\r\n                    }\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div className={s.buttonContainer}>\r\n                <Button name={\"Increment\"} callBackClick={incCount} isDisabled={count.count === +count.maxValue ||\r\n                    count.set}/>\r\n                <Button name={\"Reset\"} callBackClick={resetCount} isDisabled={count.count === +count.startValue ||\r\n                    count.set}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default CounterMain;","import React, {ChangeEvent, useEffect} from 'react';\nimport CounterMain from \"./CounterMain\";\n\nimport s from \"./App.module.css\";\nimport Button from \"./Button\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppStoreType} from \"./store/store\";\nimport {\n    CounterType,\n    setCount,\n    setError,\n    setMaxValue,\n    setSet,\n    setStartValue\n} from \"./store/counter-reducer\";\n\nconst App: React.FC = () => {\n    const dispatch = useDispatch()\n    const count = useSelector<AppStoreType, CounterType>(state => state.counterReducer)\n//Инициализация счётчика после перезагрузки страницы.Берём значение из localStorage\n    useEffect(() => {\n        let maxValueStorage = localStorage.getItem(\"maxValue\");\n        let startValueStorage = localStorage.getItem(\"startValue\");\n        if (maxValueStorage) dispatch(setMaxValue(JSON.parse(maxValueStorage)));\n        if (startValueStorage) {\n            dispatch(setStartValue(JSON.parse(startValueStorage)));\n        }\n        ;\n    }, [])\n//Нажтие на кнопку Set\n    const setCounter = () => {\n        localStorage.setItem('maxValue', JSON.stringify(parseInt(count.maxValue)))\n        localStorage.setItem('startValue', JSON.stringify(parseInt(count.startValue)))\n        dispatch(setSet(false))\n        // При нажатии Set обновляем компоненту + сбрасывем стартовое значение\n        dispatch(setCount(+count.startValue))\n    }\n//Обработка максимального значения\n    const maxValueHandler = (e: ChangeEvent<HTMLInputElement>) => {\n        let value: string = e.currentTarget.value;\n        let isError = (+count.startValue < 0 || +value <= 0 || +count.startValue >= +value);\n        isError ? dispatch(setError(true)) : dispatch(setError(false))\n        dispatch(setSet(true))\n        dispatch(setMaxValue(value));\n    }\n//Обработка стартового значения\n    const startValueHandler = (e: ChangeEvent<HTMLInputElement>) => {\n        let value = e.currentTarget.value;\n        let isError = (+value < 0 || +count.maxValue <= 0 || +value >= +count.maxValue);\n        isError ? dispatch(setError(true)) : dispatch(setError(false))\n        dispatch(setSet(true))\n        dispatch(setStartValue(value))\n    }\n    return (\n        <div className={s.mainApp}>\n\n            <div className={s.mainContainer}>\n                <div className={s.showContainer}>\n                    <div>\n                       <span>max value:\n                           <input className={count.error ? s.error : \"\"}\n                                  type={'number'}\n                                  value={count.maxValue}\n                                  onChange={maxValueHandler}/>\n                           </span>\n                        <br/>\n                        <span>start value:\n                           <input className={count.error ? s.error : \"\"}\n                                  type={'number'}\n                                  value={count.startValue}\n                                  onChange={startValueHandler}/>\n                       </span>\n                    </div>\n                </div>\n                <div className={s.buttonContainer}>\n                    <Button name={\"Set\"} callBackClick={setCounter} isDisabled={!count.set || count.error}/>\n                </div>\n            </div>\n            <CounterMain/>\n        </div>\n    )\n}\nexport default App\n","// import {loadingReducer} from './loadingReducer'\r\nimport {combineReducers, compose, createStore} from \"redux\";\r\nimport {counterReducer} from \"./counter-reducer\";\r\n\r\nconst reducers = combineReducers({\r\n    counterReducer: counterReducer,\r\n\r\n})\r\n//Для DEVTools  Redux\r\ndeclare global {\r\n    interface Window {\r\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n    }\r\n}\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n//\r\n\r\nconst store = createStore(reducers, composeEnhancers())\r\n\r\nexport default store\r\n\r\nexport type AppStoreType = ReturnType<typeof reducers>\r\n\r\n// @ts-ignore\r\nwindow.store = store // for dev\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport App from \"./App\";\nimport {Provider} from \"react-redux\";\nimport store from \"./store/store\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <React.StrictMode>\n            <App/>\n        </React.StrictMode>\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3xVnA\"};"],"sourceRoot":""}